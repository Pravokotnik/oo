<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Emotion Explorer</title>
    <link rel="stylesheet" href="faces.css">
</head>
<body>
    <div class="loading-screen" id="loading-screen">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading Emotion Explorer</div>
        <div id="loading-status">Initializing...</div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>Art Emotion Explorer</h1>
            <p class="subtitle">Explore artworks through the emotions expressed in their subjects' faces</p>
        </header>

        <div class="app-container">
            <div class="main-content">
                <div class="image-container">
                    <div class="image-wrapper" id="image-wrapper">
                        <img id="display-image" src="" alt="Selected artwork">
                        <div class="face-box" id="face-box"></div>
                    </div>
                    <div class="image-info">
                        <div class="image-title" id="image-title">Select an emotion zone to begin</div>
                        <div class="emotion-stats" id="emotion-stats">
                            <!-- Emotion bars will be inserted here -->
                        </div>
                    </div>
                </div>
                



                <div class="info-panel">
                    <button class="about-btn" id="btn-about">About This Project</button>
                    <button class="about-btn" id="btn-howto">How to Use</button>
                </div>

                <!-- About Modal -->
                <div id="modal-about" class="modal-overlay">
                    <div class="modal-content">
                        <button class="modal-close">&times;</button>
                        <h2 class="modal-title">About This Project</h2>
                        <p>
                            This explorer uses facial emotion detection to analyze artworks.
                            Each artwork is placed on a grid based on the detected emotions.
                            
                        </p>
                        <h3 class="modal-title">How it works</h3>
                        <p>
                            We leverage a state-of-the-art facial‐recognition model to detect and analyze emotions—happiness, sadness, anger, fear, and more—in artworks. By adjusting the sliders, you choose which emotions to explore; the app then surfaces images where those feelings are present. At the same time, an interactive “emotion map” visualizes the frequency and intensity of each emotion, so you can instantly see which feelings dominate the entire collection or any selected subset of images.
                            
                        </p>
                    </div>
                </div>

                <!-- How To Use Modal -->
                <div id="modal-howto" class="modal-overlay">
                    <div class="modal-content">
                        <button class="modal-close">&times;</button>
                        <h2 class="modal-title">How to Use</h2>
                        <div class="method-explanation">
                            <h3>Getting Started</h3>
                            <p>Begin by selecting an emotion zone on the 20×20 grid or by adjusting the sliders:</p>
                            
                            <h3>Selecting an Emotion Zone</h3>
                            <ul>
                                <strong>Click a cell</strong> on the emotion map to choose that zone
                                    <li>Or use the sliders:<br></li>
                                        • X: Angry ↔ Happy<br>
                                        • Y: Sad ↔ Fear
                                    
                            </ul>
                            
                            <h3>Loading Images</h3>
                            <ol>
                                <li><strong>Click “Random Image”</strong> to view a piece from the selected zone</li>
                                <li><strong>Click “Random Zone”</strong> to jump to a different area of the map</li>
                            </ol>
                            
                            <h3>Viewing Results</h3>
                            <p>The chosen artwork will display:</p>
                            <ul>
                                <li>A bounding box around the face</li>
                                <li>Emotion percentages below the image</li>
                            </ul>
                            
                            <h3>Exploring Further</h3>
                            <p>Adjust the sliders or click other cells at any time to instantly load new artworks and see which emotions dominate your selection.</p>
                        </div>
                    </div>
                </div>

            </div> <!-- end of .main-content -->

            <div class="controls">
                <div class="emotion-map-container">
                    <div class="map-header">
                        <div class="map-title">Emotion Map</div>
                        <div class="grid-coordinates" id="grid-coords">10,10</div>
                    </div>
                    <div class="emotion-grid" id="emotion-grid">
                        <!-- Grid cells will be generated here -->
                    </div>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #1a5276;"></div>
                            <span>Few images</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #3498db;"></div>
                            <span>Medium</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #2ecc71;"></div>
                            <span>Many images</span>
                        </div>
                    </div>
                </div>
                
                <div class="sliders-container">
                    <div class="slider-control">
                        <div class="slider-label">
                            <span class="slider-name">X: Angry ↔ Happy</span>
                            <span class="slider-value" id="slider-x-value">10</span>
                        </div>
                        <input type="range" id="slider-x" min="0" max="19" value="10">
                    </div>
                    
                    <div class="slider-control">
                        <div class="slider-label">
                            <span class="slider-name">Y: Sad ↔ Fear</span>
                            <span class="slider-value" id="slider-y-value">10</span>
                        </div>
                        <input type="range" id="slider-y" min="0" max="19" value="10">
                    </div>
                    
                    <div class="actions">
                        <button id="random-btn">Random Image</button>
                        <button id="random-cell">Random Zone</button>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Art Emotion Explorer | Facial emotion analysis of artworks</p>
            <p>Uses DeepFace emotion detection to analyze facial expressions in art</p>
        </footer>
    </div>

    <script src="faces.js"></script>
</body>
</html>